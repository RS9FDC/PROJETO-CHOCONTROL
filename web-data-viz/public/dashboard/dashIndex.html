<!DOCTYPE html>
<html lang="ptbr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style-indexdashboard.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.1/css/boxicons.min.css">
    <link rel="shortcut icon" href="assets/logo.png" type="image/x-icon">
    <title>Chocontrol | Dashboard</title>
</head>

<body>

    <!-- menu lateral -->

    <nav id="menulateral">

        <div id="sidebar">
            <!-- opcoes de navegação -->

            <a href="./../index.html"><img src="../assets/logoAtualizado.png" id="logo" alt=""></a>



            <ul id="itens">
                <li class="itensmenu active">
                    <a href="dashIndex.html">
                        <i class="fa-solid fa-chart-line" style="color: #000; margin-right: 1rem;"> Dashboard</i>
                        <div id="linha-vertical"></div>
                    </a>
                </li>

                <li class="itensmenu active">
                    <a href="dashControle.html">
                        <i class="fa-solid fa-table" style="color: #000; margin-right: 1rem;"> Acompanhamento</i>
                        <div id="linha-vertical"></div>
                    </a>
                </li>

                <li class="itensmenu active">
                    <a href="https://projetochocontrol.atlassian.net/servicedesk/customer/portal/1">
                        <i class="fa-solid " style="color: #000; margin-right: 1rem;"> Abrir chamado</i>
                    </a>
                </li>
            </ul>


            <!-- foto de fundo usuario -->
            <div id="fotousuario">
                <img style="border-radius: 30px;" id="foto" src="../assets/usuario.jpg" alt="foto do usuario">
                <p id="usuario_informacoes">
                    <span class="descricao">
                        Fernando Brandão
                    </span>
                </p>


                <a href="../index.html"><i class="fa-solid fa-arrow-right-from-bracket" style="color: #000;"></i></a>
                <span class="itensmenu"></span>

            </div>
        </div>



    </nav>

    <div id="parteprincipal">

        <!-- menu horizontal -->
        <div id="menucima" style="margin-top: 2rem;">
            <main id="main">
                <h1 id="bem-vindo" style="font: Antic Didone; font-size: 20px;width: 100%; ">Olá, Fernando.</h1>
            </main>

            <!-- <div id="pesquisa">
                <input type="text" placeholder="Pesquisar" id="pesq">
                <i class="fa-solid fa-magnifying-glass" color="#422919;" style="  font-size: 25px;"></i>
            </div> -->



            <div id="confgs" style="  display: flex; ">

                <!-- <div id="icons" style="  flex-grow: 1; display: flex; justify-content: start;  margin-left: 3rem ">
                    <i class="fa-solid fa-bell" id="icons"
                        style="color: #422919; margin-left: 1rem; font-size: 30px; width: fit-content"></i>
                    <i class="fa-solid fa-envelope" id="icons"
                        style="color: #422919; font-size: 30px; width: fit-content"></i>
                    <i class="fa-solid fa-moon" id="icons"
                        style="color: #422919; font-size: 30px; width: fit-content"></i>
                </div> -->


                <div id="usu" style="display: flex; flex-direction: row; width: 60%;  margin-left: 50rem; ">
                    <img id="foto" src="../assets/usuario.jpg" alt="foto do usuario">


                    <i class="fa-solid fa-chevron-down" style="margin-top: 1rem; display: flex; color: #000;"></i>
                </div>



            </div>
        </div>


        <!-- cards de avisos -->

        <div class="dash">
            <h1 class="title">Avisos!</h1>

            <div class="container">
                <div class="card">
                    <a href="dashControle.html">
                        <p style="color: #BF1700;">Leva 1 em estado crítico</p>
                    </a>
                    <p>Máquina: 6421350</p>
                    <p>Tipo de chocolate: Branco</p>
                    <p style="color: #BF1700; font-size: 15px;">Temperatura da leva: 97°C</p>
                </div>



                <div class="card">
                    <p style="color: #BF1700;">Leva 2 em estado crítico</p>
                    <p>Máquina: 0134276</p>
                    <p>Tipo de chocolate: Ao leite</p>
                    <p style="color: #BF1700; font-size: 15px;">Temperatura da leva: 85°C</p>
                </div>


                <div class="card">
                    <p style="color: #BF1700;">Leva 3 em estado crítico</p>
                    <p>Máquina: 78855</p>
                    <p>Tipo de chocolate: Branco</p>
                    <p style="color: #BF1700; font-size: 15px;">Temperatura da leva: 102°C</p>
                </div>

                <div class="card">
                    <p style="color: #BF1700;">Leva 4 em estado crítico</p>
                    <p>Máquina: 5420350</p>
                    <p>Tipo de chocolate: Ao leite</p>
                    <p style="color: #BF1700; font-size: 15px;">Temperatura da leva: 23°C</p>
                </div>

                <div class="card">
                    <p style="color: #E48F1E;">Leva 5 em estado de alerta</p>
                    <p>Máquina: 78498952</p>
                    <p>Tipo de chocolate: Branco</p>
                    <p style="color: #E48F1E; font-size: 15px;">Temperatura da leva: 40.7°C</p>
                </div>

                <div class="card">
                    <p style="color: #E48F1E;">Leva 6 em estado de alerta</p>
                    <p>Máquina: 55984852</p>
                    <p>Tipo de chocolate: Amargo</p>
                    <p style="color: #E48F1E; font-size: 15px;">Temperatura da leva: 78.5°C</p>
                </div>

                <div class="card">
                    <p style="color: #E48F1E;">Leva 7 em estado de alerta</p>
                    <p>Máquina: 1236588</p>
                    <p>Tipo de chocolate: Ao leite</p>
                    <p style="color: #E48F1E; font-size: 15px; margin-top: 3%;">Temperatura da leva: 79°C</p>
                </div>

                <div class="card">
                    <p>Adicionar máquina</p>

                    <div id="contentSection">
                        <!-- Aqui é onde as novas divs serão adicionadas -->
                    </div>

                    <button id="addContentBtn">Adicionar</button>

                    <!-- Modal para adicionar novo conteúdo (opcional) -->
                    <div id="myModal" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <label for="newContentNumMaquina">Número da máquina:</label>
                            <input type="text" id="newContentNumMaquina">
                            <label for="newContentTipoChoco">Tipo de chocolate:</label>
                            <input type="text" id="newContentTipoChoc">
                            <button id="confirmAddBtn">Adicionar</button>
                        </div>
                    </div>

                    <script src="script.js"></script>
                </div>

            </div>
        </div>


        <div class="dash">
            <h1 class="title">Produções em Andamento!</h1>

            <div class="container">
                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate Branco</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>

                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate Amargo</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>


                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate ao Leite</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>


                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate ao Leite</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>


                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate ao Leite</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>


                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate ao Leite</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>

                <div class="card">
                    <p style="font-family: 'Antic Didone'; font-weight: 400; font-size: 25px;">Chocolate ao Leite</p>
                    <p style="font-size: 15px; margin-top: 1rem;">Máquina: 789</p>
                    <p style="font-size: 15px;">Local de Produção:</p>
                    <p style="font-size: 15px;">Prazo de Entrega</p>
                    <p style="font-size:10px; display: flex; justify-content: end; margin-top: 1rem;">ver mais</p>
                </div>




            </div>
        </div>


        <div class="containerBobIA">
            <div class="bobIA" onclick="showModal()">
                <i class='bx bxs-message-square-add'></i>

            </div>
            <div id="modalBobIA" class="modalBobIA">
                <span class="close" onclick="hideModal()">&times;</span>
            </div>
        </div>


    </div>





    <!-- <script src="js/script.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <script>
        var modalContentAdded = false; // Variável para verificar se o conteúdo já foi adicionado ao modal

        function showModal() {
            var modal = document.getElementById("modalBobIA");
            modal.style.display = "block";

            // Verifica se o conteúdo já foi adicionado ao modal
            if (!modalContentAdded) {
                modal.innerHTML += ` <h1 id="modalTitle">BobIA | Suporte N3</h1>
            <textarea id="pergunta" type="text" placeholder="Digite a pergunta..."></textarea>
            <button onclick="gerarResposta()" id="botao">Gerar Resposta</button>
            <h3 id="respIA"> Resposta da IA: </h3>
            <div id="resposta"></div>`;

                modalContentAdded = true; // Define que o conteúdo foi adicionado
            }

            // FECHA O MODAL AO SER CLICADO DENTRO DO MODAL
            window.addEventListener('click', function (event) {
                var modal = document.getElementById('modalBobIA');
                var modalContent = document.querySelector('.modal-content');

                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            });
        }

        function hideModal() {
            var modal = document.getElementById("modalBobIA");
            modal.style.display = "none";
        }


        async function gerarResposta() {
            const pergunta = document.getElementById('pergunta').value;

            const response = await fetch('/perguntar', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ pergunta })
            });

            const data = await response.json();

            resposta.style.display = 'block';
            document.getElementById('resposta').innerText = data.resultado;
        }

    </script>
</body>

</html>